TEST_BEGIN(idivax, 2)
TEST_INPUTS(
    0, 1,
    1, 1,
    1, 2,
    0xFFFF, 1,
    0xFFFF, 2,
    0xFFFF, 0xFF,
    0xFFFF, 0xF7,
    0x7FFF, 1,
    0x7FFF, 2,
    0x7FFF, 0xFF,
    0x7FFF, 0xF7)

    movq ARG1_32, %rax
    movq ARG2_32, %rbx

    idivb %bl
TEST_END

TEST_BEGIN(idivdxax, 3)
TEST_INPUTS(
    0, 1, 0,
    1, 1, 0,
    1, 2, 0,
    0xFFFF, 1, 0,
    0xFFFF, 2, 0,
    0xFFFF, 0xFF, 0,
    0xFFFF, 0xF7, 0,
    0xFFFF, 1, 0xFFFF,
    0xFFFF, 2, 0xFFFF,
    0xFFFF, 0xFF, 0xFFFF,
    0xFFFF, 0xF7, 0xFFFF,
    0xFFFF, 1, 0x7FFF,
    0xFFFF, 2, 0x7FFF,
    0xFFFF, 0xFF, 0x7FFF,
    0xFFFF, 0xF7, 0x7FFF)

    movq ARG1_32, %rax
    movq ARG2_32, %rbx
    movq ARG3_32, %rdx

    idivw %bx
TEST_END

TEST_BEGIN(idivedxeax, 3)
TEST_INPUTS(
    0xFFFF, 0xFF, 0,
    0xFFFF, 0xF7, 0,
    0xFFFF, 0xFF, 0xFFFF,
    0xFFFF, 0xF7, 0xFFFF,
    0xFFFF, 0xFF, 0x7FFF,
    0xFFFF, 0xF7, 0x7FFF,
    0xFFFFFFFF, 0xFF, 0xFFFFFFFF,
    0xFFFFFFFF, 0xF7, 0xFFFFFFFF,
    0xFFFFFFFF, 0xFF, 0x7FFFFFFF,
    0xFFFFFFFF, 0xF7, 0x7FFFFFFF,
    0xffffffff, 32, 0xffffffff)

    movq ARG1_32, %rax
    movq ARG2_32, %rbx
    movq ARG3_32, %rdx

    idivl %ebx
TEST_END

TEST_BEGIN_64(idivrdxrax_64, 3)
TEST_INPUTS(
    0xFFFF, 0xFF, 0,
    0xFFFF, 0xF7, 0,
    0xFFFF, 0xFF, 0xFFFF,
    0xFFFF, 0xF7, 0xFFFF,
    0xFFFF, 0xFF, 0x7FFF,
    0xFFFF, 0xF7, 0x7FFF,
    0xFFFFFFFF, 0xFF, 0xFFFFFFFF,
    0xFFFFFFFF, 0xF7, 0xFFFFFFFF,
    0xFFFFFFFF, 0xFF, 0x7FFFFFFF,
    0xFFFFFFFF, 0xF7, 0x7FFFFFFF,
    0xFFFFFFFFFFFFFFFF, 0xFF, 0xFFFFFFFFFFFFFFFF,
    0xFFFFFFFFFFFFFFFF, 0xF7, 0xFFFFFFFFFFFFFFFF,
    0xFFFFFFFFFFFFFFFF, 0xFF, 0x7FFFFFFFFFFFFFFF,
    0xFFFFFFFFFFFFFFFF, 0xF7, 0x7FFFFFFFFFFFFFFF)

    movq ARG1_32, %rax
    movq ARG2_32, %rbx
    movq ARG3_32, %rdx

    idivl %ebx
TEST_END_64

TEST_BEGIN_64(idivrdxrax_64, 3)
TEST_INPUTS(
0x41,0x41,0x41,
0x51,0x51,0x51,
0x80,0x80,0x80,
0x55,0x55,0x55,
0xAA,0xAA,0xAA,
0x0F,0x0F,0x0F,
0xF7,0xF7,0xF7,
0xFE,0xFE,0xFE,
0xEF,0xEF,0xEF,
0x7F,0x7F,0x7F,
0xFF,0xFF,0xFF,
0x4141,0x4141,0x4141,
0x5151,0x5151,0x5151,
0x8000,0x8000,0x8000,
0x5500,0x5500,0x5500,
0x5555,0x5555,0x5555,
0xAA00,0xAA00,0xAA00,
0xAAAA,0xAAAA,0xAAAA,
0x0F0F,0x0F0F,0x0F0F,
0xF7F7,0xF7F7,0xF7F7,
0xFEFE,0xFEFE,0xFEFE,
0xEFEF,0xEFEF,0xEFEF, 
0x7FFF,0x7FFF,0x7FFF,
0xFFFF,0xFFFF,0xFFFF, 
0x41414141,0x41414141,0x41414141, 
0x51515151,0x51515151,0x51515151, 
0x55000000,0x55000000,0x55000000, 
0x55555555,0x55555555,0x55555555,
0xAAFFFFFF,0xAAFFFFFF,0xAAFFFFFF, 
0xAAAAAAAA,0xAAAAAAAA,0xAAAAAAAA, 
0x0F0F0F0F,0x0F0F0F0F,0x0F0F0F0F, 
0xF7F7F7F7,0xF7F7F7F7,0xF7F7F7F7 ,
0xFEFEFEFE,0xFEFEFEFE,0xFEFEFEFE,
0xEFEFEFEF,0xEFEFEFEF,0xEFEFEFEF,
0x4141414141414141,0x4141414141414141,0x4141414141414141,
0x5115151515115151,0x5115151515115151,0x5115151515115151)

    movq ARG1_32, %rax
    movq ARG2_32, %rbx
    movq ARG3_32, %rdx

    idivq %rbx
TEST_END_64
